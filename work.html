<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Work - Yaël Legris</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="nav.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Spectral:wght@200;300;400;500;600;700&display=swap" 
      rel="stylesheet"
    />
    <style>
      /* General container for the work section */
      .work-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
      }

      .masonry-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); /* Define column sizes */
        grid-auto-rows: 10px; /* Base row height */
        gap: 2rem; /* Consistent spacing between items */
        margin-top: 2rem;
      }

      .work-item {
        position: relative;
        grid-row: span var(--row-span); /* Dynamically span rows based on aspect ratio */
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
      }

      .work-item.loaded {
        opacity: 1;
        transform: translateY(0);
      }

      .work-item .image-wrap {
        position: relative;
        width: 100%;
        overflow: hidden;
      }

      .work-item img {
        width: 100%;
        height: auto;
        object-fit: cover; /* Ensures the image fills the container without distortion */
      }

      /* Hover effect for images */
      .work-item:hover img {
        transform: scale(1.03);
        transition: transform 0.3s ease;
      }

      /* Title for work items */
      .work-item-title {
        font-size: 1.1rem;
        margin: 0.5rem 0 0 0;
        font-weight: 500;
      }

      /* Responsive grid for smaller screens */
      @media (max-width: 1200px) {
        .masonry-grid {
          grid-template-columns: repeat(2, 1fr); /* Two columns for medium screens */
          gap: 1.5rem; /* Adjust gap for smaller screens */
        }
      }

      @media (max-width: 768px) {
        .masonry-grid {
          grid-template-columns: 1fr; /* Single column for small screens */
          gap: 1rem; /* Adjust gap for smaller screens */
        }

        .work-container {
          padding: 0 1rem;
        }
      }

      /* General body styling */
      body {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      /* Footer styling */
      .footer {
        margin-top: auto;
        padding: 1rem;
        text-align: center;
      }
    </style>
  </head>
  <body class="internal-page">
    <nav class="site-nav">
      <div class="nav-links-left">
        <a href="work.html" class="current-page">work</a>
        <a href="about.html">about</a>
        <a href="contact.html">contact</a>
      </div>
      <h1 class="site-title">
        <a href="index.html">Yaël Legris</a>
      </h1>
      <div class="nav-links-right">
        <!-- Your right-side navigation links -->
      </div>
    </nav>
    <div class="work-container">
      <div class="masonry-grid" id="masonry-grid">
        <!-- Images will be populated here by JavaScript -->
      </div>
    </div>
    <script>
      // Array of image information
      const workImages = [
        { src: 'images/work/interior1(2025).png', alt: 'Interior 1', link: 'work/interior1.html' },
        { src: 'images/work/horse_temp_details_2025.jpg', alt: 'Untitled', link: 'work/untitled(2025).html' },
        { src: 'images/work/pascal_main.png', alt: 'Pascal', link: 'work/pascal.html' },
        { src: 'images/work/grief_main.png', alt: 'Grief Series Main', link: 'work/grief.html' },
        { src: 'images/work/fading-imploding_2023.png', alt: 'Fading imploding', link: 'work/fading-imploding.html' },
        { src: 'images/work/Solim.0.jpg', alt: 'Solim', link: 'work/solim.html' },
        { src: 'images/work/Dereck-PopUp.jpg', alt: 'Dereck', link: 'work/dereck.html' },
        { src: 'images/work/legend.png', alt: 'Legend', link: 'work/legend.html' },
        { src: 'images/work/iseered_2021.png', alt: 'I See Red', link: 'work/iseered.html' },
        { src: 'images/work/untitled_red_portrait_2020.jpg', alt: 'Untitled Portrait (2020)', link: 'work/untitled(2020).html' },
        { src: "images/work/Sittin'With_A_Demon_PopUp_small.jpg", alt: 'Sitting With A Demon', link: 'work/sittinwithademon.html' },
        { src: 'images/work/heaven&hell1.jpg', alt: 'Heaven and hell', link: 'work/heavenandhell.html' },
        { src: 'images/work/Céleste-PopUp.jpg', alt: 'Céleste', link: 'work/céleste.html' },
        { src: 'images/work/icanseeit(2020).jpg', alt: 'I can see it', link: 'work/icanseeit.html' },
        { src: 'images/work/untitled (2019).png', alt: 'Untitled 2019', link: 'work/untitled(2019).html' },
        { src: 'images/work/self_portrait.jpg', alt: 'Self Portrait', link: 'work/self-portrait.html' }
      ];
      
      // Function to preload an image
      function preloadImage(src) {
        return new Promise((resolve, reject) => {
          const img = new Image();
          img.onload = () => resolve(img);
          img.onerror = reject;
          img.src = src;
        });
      }

      // Function to create and append a work item
      function createWorkItem(image, loadedImage) {
        const workItem = document.createElement('div');
        workItem.className = 'work-item';

        const imageWrap = document.createElement('div');
        imageWrap.className = 'image-wrap';

        // Create a clickable link
        const link = document.createElement('a');
        link.href = image.link || '#'; // Use the link from the image object or '#' as a fallback
        link.target = '_self'; // Open in the same tab (use '_blank' for a new tab)

        loadedImage.alt = image.alt;
        link.appendChild(loadedImage); // Add the image inside the link
        imageWrap.appendChild(link); // Add the link inside the image wrap
        workItem.appendChild(imageWrap);

        return workItem;
      }

      // Function to add a single image to the grid with animation
      function addImageToGrid(grid, workItem, delay) {
        return new Promise((resolve) => {
          setTimeout(() => {
            grid.appendChild(workItem);
            // Trigger reflow to ensure animation plays
            workItem.offsetHeight;
            workItem.classList.add('loaded');
            resolve();
          }, delay);
        });
      }

      // Function to populate the grid with preloaded images
      async function populateGrid() {
        const grid = document.getElementById('masonry-grid');
        const DELAY_BETWEEN_IMAGES = 150; // Delay in milliseconds between each image

        try {
          // Load images one by one
          for (let i = 0; i < workImages.length; i++) {
            const loadedImage = await preloadImage(workImages[i].src);
            const workItem = createWorkItem(workImages[i], loadedImage);
            await addImageToGrid(grid, workItem, DELAY_BETWEEN_IMAGES);
          }
        } catch (error) {
          console.error('Error loading images:', error);
        }
      }
      
      // Call the function when the page loads
      document.addEventListener('DOMContentLoaded', populateGrid);
    </script>
    <script src="script.js"></script>
    <footer class="footer">
      <div class="footer__content">
        <p>&copy; 2025 Yaël Legris. All rights reserved.</p>
      </div>
    </footer>
  </body>
</html>