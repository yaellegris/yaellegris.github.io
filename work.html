<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Work - Yaël Legris</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="nav.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Spectral:wght@200;300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      .work-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
      }

      /* Original grid (will be hidden when JS masonry is activated) */
      .masonry-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
      }

      /* Custom masonry container (will be shown by JS) */
      .masonry-container {
        display: flex;
        width: 100%;
        gap: 2rem;
        margin-top: 2rem;
      }

      .masonry-column {
        display: flex;
        flex-direction: column;
        gap: 2rem; /* This creates the consistent vertical spacing */
        flex: 1;
      }

      .work-item {
        margin-bottom: 0; /* Remove default margin since we use gap */
        position: relative;
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
      }

      .work-item.loaded {
        opacity: 1;
        transform: translateY(0);
      }

      .work-item .image-wrap {
        position: relative;
        width: 100%;
        background: #f5f5f5;
        overflow: hidden;
      }

      .work-item img {
        width: 100%;
        height: auto;
        display: block;
        transition: transform 0.3s ease;
      }

      .work-item:hover img {
        transform: scale(1.03);
      }

      .work-item-title {
        font-size: 1.1rem;
        margin: 0.5rem 0 0 0;
        font-weight: 500;
      }

      @media (max-width: 768px) {
        .masonry-grid,
        .masonry-container {
          grid-template-columns: 1fr;
          gap: 1rem;
        }

        .masonry-container {
          flex-direction: column;
        }

        .masonry-column {
          gap: 1rem;
        }

        .work-container {
          padding: 0 1rem;
        }
        .site-nav {
          display: flex; /* Use flexbox for layout */
          margin-top: 1rem; /* Add margin to top */
          justify-content: space-between; /* Space between nav links and title */
          align-items: center; /* Vertically align items */
          padding: 1rem; /* Add padding around the navigation */
          width: 100%; /* Ensure the navigation bar spans the full width */
          box-sizing: border-box; /* Include padding in the width calculation */
        }

        .nav-links-left {
          display: flex; /* Ensure the links are displayed in a row */
          gap: 0.5rem; /* Add spacing between links */
          margin-top: 0;
          width: auto; /* Allow the links to take up only the necessary space */
          text-align: left; /* Align the content to the left */
        }
      
        .nav-links-left a {
          font-size: 0.4rem; /* Reduce the font size of the links */
          margin-bottom: 0; /* Remove bottom margin for inline links */
          text-align: left; /* Align text to the left */
        }

        body {
          margin: 0; /* Remove default margin */
          overflow-x: hidden; /* Prevent horizontal scrolling */
        }
      
        .footer__content {
          padding: 1rem; /* Add padding to the footer for smaller screens */
          font-size: 0.8rem; /* Make the footer text slightly smaller */
        }

        .site-title {
          font-size: 1.0rem !important; /* Make the title smaller */
          text-align: right !important; /* Align the title text to the right */
          margin-left: auto !important; /* Push the title to the right */
          margin-right: 0 !important; /* Remove right margin */
          width: auto !important; /* Allow natural width instead of fixed 33.33% */
          padding-right: 1rem; /* Add some padding on the right */
          flex-grow: 1; /* Allow it to take available space */
          display: flex; /* Enable flexbox */
          justify-content: flex-end; /* Right align the content */
      }

        .home-title {
          font-size: 1.0rem !important;
          text-align: right !important;
          margin-left: auto !important;
          margin-right: 0 !important;
          width: auto !important;
          padding-right: 0.5rem;
          flex-shrink: 0;
        }
    }
      

      body {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      .footer {
        margin-top: auto;
        padding: 1rem;
        text-align: center;
      }

    </style>
  </head>
  <body class="internal-page">
    <nav class="site-nav">
      <div class="nav-links-left">
        <a href="work.html" class="current-page">work</a>
        <a href="about.html">about</a>
        <a href="contact.html">contact</a>
      </div>
      <h1 class="site-title">
        <a href="index.html">Yaël Legris</a>
      </h1>
      <div class="nav-links-right">
        <!-- Your right-side navigation links -->
      </div>
    </nav>
    <div class="work-container">
      <div class="masonry-grid" id="masonry-grid">
        <!-- Images will be populated here by JavaScript -->
      </div>
    </div>
    <script>
      // Array of image information
      const workImages = [
        {
          src: 'images/work/rambo_website_preview.jpg',
          alt: 'dont wanna forget so i captured it',
          link: 'work/dontwannaforgetsoicapturedit.html',
        },
      
        {
          src: 'images/work/pascal_preview.jpg',
          alt: 'Pascal',
          link: 'work/pascal.html',
        },
    
        
        {
          src: 'images/work/horse_temp_details_2025.jpg',
          alt: 'Untitled',
          link: 'work/untitled(2025).html',
        },
        {
          src: 'images/work/sundies_preview.jpg',
          alt: 'Sun dies',
          link: 'work/sundies.html',
        },
        {
          src: 'images/work/interior1_preview.jpg',
          alt: 'Interior 1',
          link: 'work/interior1.html',
        },
        
        
        {
          src: 'images/work/grief_preview.jpg',
          alt: 'Grief Series Main',
          link: 'work/grief.html',
        },
        {
          src: 'images/work/fading:imploding_2023.png',
          alt: 'Fading imploding',
          link: 'work/fading-imploding.html',
        },
        {
          src: 'images/work/solim_2022.jpg',
          alt: 'Solim',
          link: 'work/solim.html',
        },
        {
          src: 'images/work/Dereck-PopUp.jpg',
          alt: 'Dereck',
          link: 'work/dereck.html',
        },
        {
          src: 'images/work/legend.png',
          alt: 'Legend',
          link: 'work/legend.html',
        },
        {
          src: 'images/work/iseered_2021.png',
          alt: 'I See Red',
          link: 'work/iseered.html',
        },
        {
          src: 'images/work/untitled_red_portrait_2020.jpg',
          alt: 'Untitled Portrait (2020) ',
          link: 'work/untitled(2020).html',
        },
        {
          src: "images/work/Sittin'With_A_Demon_PopUp_small.jpg",
          alt: 'Sitting With A Demon',
          link: 'work/sittinwithademon.html',
        },
        {
          src: 'images/work/heaven&hell1.jpg',
          alt: 'Heaven and hell',
          link: 'work/heavenandhell.html',
        },
        {
          src: 'images/work/Céleste-PopUp.jpg',
          alt: 'Céleste',
          link: 'work/céleste.html',
        },

        {
          src: 'images/work/icanseeit(2020).jpg',
          alt: 'I can see it',
          link: 'work/icanseeit.html',
        },

        {
          src: 'images/work/untitled (2019).png',
          alt: 'Untitled 2019',
          link: 'work/untitled(2019).html',
        },
        {
          src: 'images/work/self_portrait.jpg',
          alt: 'Self Portrait',
          link: 'work/self-portrait.html',
        },
      ];

      // Function to preload an image
      function preloadImage(src) {
        return new Promise((resolve, reject) => {
          const img = new Image();
          img.onload = () => resolve(img);
          img.onerror = reject;
          img.src = src;
        });
      }

      // Function to create and append a work item
      function createWorkItem(image, loadedImage) {
        const workItem = document.createElement('div');
        workItem.className = 'work-item';
        // Add large-image class if it's the Pascal image
    workItem.className = `work-item ${image.alt === 'Pascal Main' ? 'large-image' : ''}`;

        const imageWrap = document.createElement('div');
        imageWrap.className = 'image-wrap';

        // Create a clickable link
        const link = document.createElement('a');
        link.href = image.link || '#'; // Use the link from the image object or '#' as a fallback
        link.target = '_self'; // Open in the same tab (use '_blank' for a new tab)

        loadedImage.alt = image.alt;
        link.appendChild(loadedImage); // Add the image inside the link
        imageWrap.appendChild(link); // Add the link inside the image wrap
        workItem.appendChild(imageWrap);

        return workItem;
      }

      // Implement masonry layout with equal vertical spacing
      async function createMasonryLayout() {
        const workContainer =
          document.querySelector('.work-container');
        const originalGrid = document.getElementById('masonry-grid');

        // Create masonry container
        const masonryContainer = document.createElement('div');
        masonryContainer.className = 'masonry-container';

        // Number of columns (3 for desktop)
        const numColumns = window.innerWidth <= 768 ? 1 : 3;

        // Create columns
        const columns = [];
        for (let i = 0; i < numColumns; i++) {
          const column = document.createElement('div');
          column.className = 'masonry-column';
          masonryContainer.appendChild(column);
          columns.push(column);
        }

        // Preload all images first
        const preloadedImages = [];
        for (const image of workImages) {
          try {
            const loadedImage = await preloadImage(image.src);
            preloadedImages.push({ image, loadedImage });
          } catch (error) {
            console.error('Error loading image:', image.src, error);
          }
        }

        // Add each image to the shortest column
        let currentCol = 0;
        const DELAY_BETWEEN_IMAGES = 150;

        for (const { image, loadedImage } of preloadedImages) {
          // Create work item
          const workItem = createWorkItem(image, loadedImage);

          // Add to current column and move to next column
          columns[currentCol].appendChild(workItem);
          currentCol = (currentCol + 1) % numColumns;

          // Add animation with delay
          setTimeout(() => {
            workItem.classList.add('loaded');
          }, DELAY_BETWEEN_IMAGES);
        }

        // Replace original grid with masonry container
        originalGrid.style.display = 'none';
        workContainer.appendChild(masonryContainer);
      }

      // Call the function when the page loads
      document.addEventListener(
        'DOMContentLoaded',
        createMasonryLayout
      );

      // Update layout on resize
      window.addEventListener('resize', () => {
        const masonryContainer = document.querySelector(
          '.masonry-container'
        );
        if (masonryContainer) {
          masonryContainer.remove();
          createMasonryLayout();
        }
      });
    </script>
    <script src="script.js"></script>
    <footer class="footer">
      <div class="footer__content">
        <p>&copy; 2025 Yaël Legris. All rights reserved.</p>
      </div>
    </footer>
  </body>
</html>
